<div class="container my-5" style="max-width: 1200px; min-height: 80vh;">
  <h2 class="text-center mb-4" style="font-weight: bold; color: #2c3e50;">
    Search Superheroes
  </h2>

  <!-- Search Bar -->
  <div class="d-flex mb-4 justify-content-center">
    <input
      type="text"
      [(ngModel)]="searchQuery"
      class="form-control me-2"
      placeholder="Enter superhero name..."
      style="max-width: 400px;"
    />
    <button class="btn btn-primary" (click)="onSearch()">Search</button>
  </div>

  <!-- Intro Section (shown before searching) -->
  <div
    class="text-center my-5"
    *ngIf="!heroes.length && !loading && !errorMessage"
  >
    <h3 class="fw-bold text-primary">Search Your Favourite Superhero</h3>
    <p class="text-muted mt-3" style="max-width: 600px; margin: 0 auto;">
      Discover detailed information about superheroes from different universes.
      Type the name of your favorite hero in the search bar above and explore
      their biography, publisher, first appearance, and more. Start your search
      now and dive into the world of heroes!
    </p>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center my-4">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <!-- Error -->
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <!-- Results -->
  <div class="row g-4" *ngIf="heroes.length">
    <div class="col-md-3" *ngFor="let hero of heroes">
      <div class="card hero-card h-100 shadow-sm">
        <img
          [src]="hero.image.url"
          class="card-img-top"
          [alt]="hero.name"
          style="height: 250px; object-fit: cover;"
        />
        <div class="card-body d-flex flex-column justify-content-between">
          <h5 class="card-title">{{ hero.name }}</h5>
          <p class="card-text text-truncate">
            {{ hero.biography?.['full-name'] || 'Unknown' }}
          </p>
          <button
            class="btn btn-primary btn-sm mt-auto"
            (click)="openHeroModal(hero)"
          >
            View
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Hero Modal -->
<div
  class="modal fade show"
  tabindex="-1"
  [ngClass]="{ 'd-block': selectedHero }"
  *ngIf="selectedHero"
>
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title">{{ selectedHero.name }}</h5>
        <button
          type="button"
          class="btn-close"
          (click)="closeHeroModal()"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-4">
            <img
              [src]="selectedHero.image.url"
              class="img-fluid rounded"
              [alt]="selectedHero.name"
            />
          </div>
          <div class="col-md-8">
            <p>
              <strong>Full Name:</strong>
              {{ selectedHero.biography?.['full-name'] }}
            </p>
            <p>
              <strong>Publisher:</strong>
              {{ selectedHero.biography?.publisher }}
            </p>
            <p>
              <strong>First Appearance:</strong>
              {{ selectedHero.biography?.['first-appearance'] }}
            </p>
            <p>
              <strong>Alignment:</strong>
              {{ selectedHero.biography?.alignment }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>